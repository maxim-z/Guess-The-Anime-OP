import{u as h,r as i,j as s,D as m,Y as u}from"./index-DyltxQyu.js";function j(){const{filter:c}=h(),[l,a]=i.useState(1),[n,r]=i.useState([]),o=["id","rank","yt_viewcount","score","eng_title","def_title","song_title","song_artist","anime_id"],x="https://guess-the-anime-op.onrender.com",d=e=>{if(!e){console.log(`Page ${e} with ${c} does not exist`);return}fetch(`${x}/page?pageNum=${e}&filter=${c}`).then(async t=>{if(!t.ok)throw console.log(`${t.status}: Error fetching song ${e}`),new Error(`Error fetching song ${e}: ${t.status}`);return t.json()}).then(t=>r(t)).catch(t=>console.error("Fetch error:",t))};return i.useEffect(()=>{d(l)},[l,c]),s.jsxs("div",{className:"flex flex-col items-center w-[100%]",children:[s.jsx(m,{}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("h1",{children:["Page Number: ",l]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{className:"bg-slate-500",onClick:()=>a(e=>e-1<=0?e:e-1),children:"Prev"}),s.jsx("button",{className:"bg-slate-500",onClick:()=>a(e=>e+1>=100?e:e+1),children:"Next"})]})]}),[...n].map(e=>s.jsxs("div",{className:"flex gap-8 w-[100%] h-[300px] md:h-[360px]",children:[s.jsx("img",{className:"aspect-[2/3] max-h-[300px]",src:e==null?void 0:e.img_url}),s.jsx("div",{className:"flex flex-col w-[350px]",children:e&&o.map(t=>s.jsxs("div",{children:[t,": ",e[t]]}))}),s.jsx("div",{className:"w-[360px] h-[240px] md:w-[640px] md:h-[360px]",children:s.jsx(u,{videoId:e==null?void 0:e.yt_video_id,opts:{width:"360",height:"240",playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,enablejsapi:1,playsinline:1}}})})]})),s.jsxs("div",{className:"flex flex-col h-[200px]",children:[s.jsxs("h1",{children:["Page Number: ",l]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{className:"bg-slate-500",onClick:()=>a(e=>e-1<=0?e:e-1),children:"Prev"}),s.jsx("button",{className:"bg-slate-500",onClick:()=>a(e=>e+1>=100?e:e+1),children:"Next"})]})]})]})}export{j as default};
